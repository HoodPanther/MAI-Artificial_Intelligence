%Boxploting CI - Parkinson's datasets
%Pablo Eliseo Reynoso Aguirre


opt_algorithms = {'CGD','GDM','LM','BR','BFGS'};
DeviceColors = {[1 0.5 0] 'g' 'c' [0.5 0 0.5]};

% 1layer - total
% variable = 'Total UPDSR'; 
% sub_non_avg = [8.3 13.5 8.3 12.0263 9.76102891210866;9.3 21 10 10.5525 8.66797917837473;8.8 17.25 9.15 9.3566 9.3566098142083;8.9 17 8.4 9.1719 12.3098340285304;9 14 9.8 7.6682 8.17195448152699;9.1 17.2 9.4 12.0263 8.17195448152699;9.2 17.3 8.5 10.5525 9.96102891210866;8.4 13.6 8.8 9.3566 8.86797917837473;8.5 14.5 9.15 9.1719 9.5566098142083;8.7 20 8.9 7.6682 8.37195448152699];
% sub_avg = [10.5 19.8 10.6 10.8 10.3144;10.1 13 9.5 9.5 9.6944;10.3 15.7 10.05 10.15 10.0703;10.4 15.8 10.05 10.25 9.9963;10.5 15.9 10.6 10.35 10.0474;10.1 15.7 10 9.5 10.5144;10.2 15.8 10.2 9.6 9.8944;10.1 15.9 9.5 9.7 10.2703;10.3 14 9.6 10.1 10.1963;10.4 14.1 9.7 10.2 10.2474];
% glo_non_avg = [9.8 15.7 11.4 11.9 13.9827;11 23.2 15.4 15.9 13.6888;10.4 19.45 13.4 13.9 15.5763;10.5 19.55 13.5 14 15.6763;10.6 19.65 13.6 14.1 15.7763;10.7 19.75 13.7 14.2 15.8763;9.9 15.8 11.5 12 14.0827;11.1 23.3 15.5 16 13.7888;10.5 19.55 13.5 14 15.6763;10.6 19.65 13.6 14.1 15.7763];
% glo_avg = [13.2 36 27 18 13.9368;12 16 14 14 12.9228;12.6 16 20.5 16 13.8921;12.7 16.1 18.1 16.1 15.0628;12.8 16.2 18.2 16.2 14.6216;12.9 23 18.3 16.3 14.6216;13 23.1 18.4 16.4 14.6216;12.2 23.2 14.5 16.5 14.6216;12.3 20 16 16.6 14.6216;12.4 20.1 17 16.7 14.6216];        

% 1layer - motor
% variable = 'Motor UPDSR'; 
% sub_non_avg = [6.1629 6.9 6.6806 9.9319 6.5062;5.3559 12 9.5792 7.7035 6.7401;5.8505 9.45 10.234 7.4623 7.3291;6.3309 9.55 6.3209 6.043 6.4734;5.9705 9.65 8.8516 5.7337 5.4171;6.1629 9.75 6.6806 9.9319 6.4734;5.3559 9.85 9.5792 7.7035 6.6062;5.8505 9.95 10.234 7.4623 6.8401;6.3309 10.05 6.3209 6.043 7.4291;5.9705 10.15 8.8516 5.7337 6.5734];
% sub_avg = [8 13.3 7.7 7.5 7.3861; 7.7 10.5 8 6.8 8.0233; 7.85 11.90 7.85 7.15 7.4643; 7.95 12.20 7.95 7.25 7.5655; 7.70 12.30 7.70 7.00 7.5166; 7.80 12.00 7.80 7.10 7.5166; 7.60 11.70 7.90 7.20 7.5166; 7.70 10.50 7.70 6.80 7.5166; 7.80 10.50 7.80 6.90 7.5166; 7.90 10.60 7.90 7.00 7.5166];
% glo_non_avg = [7.2 8.9 7.8 7.8 13.9827;7.8 14 10.8 10.8 13.6888;7.5 11.45 9.3 9.3 15.5763;7.6 11.55 9.4 9.4 15.6763;7.7 11.65 11.45 9.5 15.7763;7.8 11.75 11.55 9.6 15.8763;7.3 9 7.9 7.9 14.0827;7.9 14.1 10.9 10.9 13.7888;7.6 11.55 9.4 9.4 15.6763;7.7 11.65 9.5 9.5 15.7763];
% glo_avg = [10 11.2 12 14 8.9473;8.4 13.5 10.8 9.8 9.2696;9.2 12.35 11.4 11.9 9.1261;9.3 12.45 11.5 12 9.5292;9.4 12.55 11.6 12.1 9.1266;9.5 12.65 11.7 12.2 9.1266;9.6 11.7 11.8 12.3 9.1266;9.7 11.9 9.8 12.4 9.1266;9.8 11 9.9 12.5 9.1266;9.9 11.9 10 12.6 9.1266];

% 2layer - total
variable = 'Total UPDSR';
sub_non_avg = [8.3 11.2 9.3 8 11.212;10 12 13 10.8 11.0168;9.15 10.15 11.15 9.4 9.2037;9.25 10.25 11.25 9.5 9.3037;9.35 10.35 11.35 9.6 9.4037;9.45 10.45 11.45 9.7 9.5037;8.4 11.3 9.4 8.1 11.312;10.1 12.1 13.1 10.9 11.1168;9.25 10.25 11.25 9.5 9.3037;9.35 10.35 11.35 9.6 9.4037];
sub_avg = [10.4 34 11.5 18.5 11.84762937;10 15 9.5 10 12.321357;10.20 20.00 10.50 14.25 9.905726748;10.20 23.00 10.60 14.35 8.907870943;10.30 23.10 10.70 15.00 12.17915924;10.20 24.00 10.80 15.10 12.17915924;10.10 24.10 10.90 13.00 12.17915924;10.15 31.00 11.00 10.00 12.17915924;10.13 32.00 11.10 10.10 12.17915924;10.10 19.00 11.20 11.00 12.17915924];
glo_non_avg = [11.2 13.4 12.2 12.6 16.0612199606867;12 14.2 16 16.5 17.3981465271905;11.6 13.8 14.1 14.55 15.3217452855952;11.7 13.9 14.2 14.65 15.4217452855952;11.8 14 14.3 14.75 15.5217452855952;11.9 14.1 14.4 14.85 15.6217452855952;11.3 13.5 12.3 12.7 16.1612199606867;12.1 14.3 16.1 16.6 17.4981465271905;11.7 13.9 14.2 14.65 15.4217452855952;11.8 14 14.3 14.75 15.5217452855952];
glo_avg = [13 36 17 18.5 16.00849695;12.5 16 12.5 13.8 16.42457834;12.75 16 20.5 16.15 13.66506922;12.75 16.1 20.6 16.25 13.42271425;12.75 16.2 20.7 16.35 17.72386834;12.75 23 20.8 16.45 17.72386834;12.75 23.1 20.9 16.55 17.72386834;12.75 23.2 14.5 16.65 17.72386834;12.75 20 14.6 16.75 17.72386834;12.75 20.1 14.7 16.85 17.72386834];

% 2layer - motor
% variable = 'Motor UPDSR';
% sub_non_avg = [5.8 9 5.8 8 6.9857654958;6.8 6.8 13.5 10.8 7.3043070309;6.3 7.9 9.65 9.4 7.9411458119;6.3 7.9 5.9 9.4 7.021761714;5.8 6.8 6 8.2 7.0857654958;5.9 6.9 6.1 8.3 7.1857654958;6 7 6.2 8.4 7.2857654958;6.1 7.1 9.65 8.5 7.3857654958;6.4 10.5 9.65 10.5 7.9411458119;6.6 10.6 12.5 10.6 7.021761714];
% sub_avg = [8.3 19 8 12 7.68434204538;7.5 11 7.5 8 8.03473773399;7.9 15 7.75 9.1 8.73526039309;8 15.1 7.85 9.5 7.7239378854;8.1 15.2 7.95 9.6 7.79434204538;8.2 15.3 7.4 10 7.78434204538;7.6 13.4 7.5 9.5 8.13473773399;7.7 12.5 7.6 8.5 8.83526039309;7.8 13 7.4 8.6 7.8239378854;7.9 13 7.5 8.2 7.89434204538];
% glo_non_avg = [7.2 11 8 8.3 16.0612199606867;8 8.8 10.4 10.3 17.3981465271905;7.6 9.9 8.8 8.8 15.3217452855952;7.7 10 8.9 8.9 15.4217452855952;7.8 10.1 9 9 15.5217452855952;7.9 10.2 9.1 9.1 15.6217452855952;7.3 11.1 8.1 8.4 16.1612199606867;8.1 8.9 10.5 10.4 17.4981465271905;7.7 10 8.9 8.9 15.4217452855952;7.8 10.1 9 9 15.5217452855952];
% glo_avg = [10 24 11.5 15.5 10.27731077;8.5 12 9.2 9.5 11.78144608;9.25 12.35 11.4 12.5 8.976957278;9.35 12.45 11.5 9.5 8.491630282;9.45 12.55 11.6 9.6 11.06299288;9.55 12.65 11.7 10 11.06299288;9.65 15 11.8 10.1 11.06299288;9.75 17 11.9 12.5 11.06299288;9.85 13 12 12.6 11.06299288;9.95 16 12.1 12.7 11.06299288];


GroupedData = {sub_non_avg sub_avg glo_non_avg glo_avg}; 

legendEntries = {'D1','D2','D3','D4'};

N = numel(GroupedData);
M = size(opt_algorithms,2);
delta = linspace(-.3,.3,N); %// define offsets to distinguish plots
width = .2; %// small width to avoid overlap
cmap = hsv(N); %// colormap
legWidth = 1.8; %// make room for legend

figure;
hold on;

for ii=1:N
    
    %Center plot: use real labels
    labels = opt_algorithms; 
    %Plotting filled boxes with specified positions, widths, labels
    boxplot(GroupedData{ii},'Color',DeviceColors{ii},'boxstyle','filled','position',(1:M)+delta(ii),'widths',width,'labels',labels,'symbol','');
    %Dummy plot for legend    
    plot(NaN,1,'color',DeviceColors{ii});
    
end

title(variable);
xlabel('Fitting Functions'); ylabel('MAE'); grid on;

%Adjusting x limits, with room for legend
ylim([8 30]); 
xlim([1+2*delta(1) M+legWidth+2*delta(N)]); 
legend(legendEntries);